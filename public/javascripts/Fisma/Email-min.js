Fisma.Email=function(){return{showRecipientDialog:function(){var b=document.getElementById("tabContainer");if(document.getElementById("panel_c")){b.removeChild(document.getElementById("panel_c"))}var d=document.createElement("div");var g=document.createElement("p");var c=document.createTextNode("* Target E-mail Address:");g.appendChild(c);d.appendChild(g);var e=document.createElement("input");e.id="testEmailRecipient";e.name="recipient";d.appendChild(e);var f=document.createElement("div");f.style.height="10px";d.appendChild(f);var a=document.createElement("input");a.type="button";a.id="dialogRecipientSendBtn";a.style.marginLeft="10px";a.value="Send";d.appendChild(a);panel("Test E-mail Configuration",b,"",d.innerHTML);document.getElementById("dialogRecipientSendBtn").onclick=Fisma.Email.sendTestEmail},sendTestEmail:function(){if(document.getElementById("testEmailRecipient").value==""){alert("Recipient is required.");document.getElementById("testEmailRecipient").focus();return false}var b=document.getElementById("testEmailRecipient").value;var a=document.getElementById("email_config");a.elements.recipient.value=b;YAHOO.util.Connect.setForm(a);YAHOO.util.Connect.asyncRequest("POST","/config/test-email-config/format/json",{success:function(e){var d=YAHOO.lang.JSON.parse(e.responseText);message(d.msg,d.type)},failure:function(d){alert("Failed to send mail: "+d.statusText)}},null);var c=document.getElementById("panel_mask");c.style.visibility="hidden";document.getElementById("tabContainer").removeChild(document.getElementById("panel_c"))}}}();