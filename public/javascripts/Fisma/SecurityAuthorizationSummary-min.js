(function(){var a=function(c,b){a.superclass.constructor.call(this,c,b)};YAHOO.lang.extend(a,Fisma.TreeTable,{_organizationTooltipText:"<p>Click on any item with a plus (+) to expand it and reveal the items contained in it. Click any item with a minus (-) to collapse it and hide the items inside.</p><p>When an item is collapsed, the summary numbers displayed will roll up data for all suborganizations and information systems underneath it. When an item is expanded, the summary numbers displayed only include data against that specific organization.</p>",_renderHeader:function(g){var c=document.createElement("th");var f=document.createElement("span");f.className="tooltip";f.appendChild(document.createTextNode("Agency Organizations & Information Systems"));c.appendChild(f);g.appendChild(c);organizationTooltip=new YAHOO.widget.Tooltip("organizationTooltip",{context:f,showdelay:150,hidedelay:150,autodismissdelay:25000,text:this._organizationTooltipText,effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25},width:"50%"});var e=["Step 1. Categorize","Step 2. Select","Step 3. Implement","Step 4. Assess","Step 5. Authorize"];var b;for(var d in e){b=document.createElement("th");b.appendChild(document.createTextNode(e[d]));g.appendChild(b)}},_preprocessTreeData:function(e){var b=e.nodeData;b.aggregate={nodeCount:0,step1:0,step2:0,step3:0,step4:0,step5:0};if(YAHOO.lang.isValue(e.children)&&e.children.length>0){for(var c in e.children){var f=e.children[c];var d=f.nodeData;this._preprocessTreeData(f);b.aggregate.nodeCount+=f.nodeData.aggregate.nodeCount;b.aggregate.step1+=parseInt(d.aggregate.step1);b.aggregate.step2+=parseInt(d.aggregate.step2);b.aggregate.step3+=parseInt(d.aggregate.step3);b.aggregate.step4+=parseInt(d.aggregate.step4);b.aggregate.step5+=parseInt(d.aggregate.step5)}}else{b.aggregate=Array();b.aggregate.nodeCount=1;b.aggregate.step1=parseInt(b.step1);b.aggregate.step2=parseInt(b.step2);b.aggregate.step3=parseInt(b.step3);b.aggregate.step4=parseInt(b.step4);b.aggregate.step5=parseInt(b.step5)}},_renderCell:function(d,h,g,f){if(g==0){var c=document.createElement("img");c.className="icon";c.src="/images/"+h.orgType+".png";d.appendChild(c);d.appendChild(document.createTextNode(h.nickname+" - "+h.name));d.appendChild(document.createElement("br"));d.appendChild(document.createTextNode(h.orgTypeLabel))}else{var e;var b=h.aggregate.nodeCount;d.style.textAlign="center";if(f==Fisma.TreeTable.NodeState.LEAF_NODE){e=h["step"+g]}else{e=h.aggregate["step"+g]}d.appendChild(document.createTextNode(e+"/"+b));jQuery(d).peity("pie",{colours:function(){if(e/b>0.9){return["lightGreen","green"]}else{return["pink","red"]}},radius:function(){return 24}})}}});Fisma.SecurityAuthorizationSummary=a})();