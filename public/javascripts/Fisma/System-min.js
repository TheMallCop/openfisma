Fisma.System={uploadDocumentCallback:function(a){window.location.href=window.location.href},removeSelectedUsers:function(b,a){var d=[];var c=new Object();$('input:checkbox[name="rolesAndUsers[][]"]:checked').each(function(){if($(this).val()!==""){d.push($(this).val())}});c.organizationId=a.organizationId;c.userRoles=d;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/user/remove-user-roles/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},addUser:function(b,a){var c=new Object();c.userId=$("#addUserId").val();c.roleId=$("#roles").val();c.organizationId=a.organizationId;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/system/add-user/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},addSelectedUsers:function(b,a){var d=[];var c=new Object();$('input:checkbox[name="copyUserAccessTree[][]"]:checked').each(function(){if($(this).val()!==""){d.push($(this).val())}});c.userRoles=d;c.organizationId=a.organizationId;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/user/add-user-roles-to-organization/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},showInformationTypes:function(){document.getElementById("addInformationTypes").style.display="block"},addInformationType:function(b,a,c,d){b.innerHTML="<a href='/system/add-information-type/id/"+a.getData("system")+"/sitId/"+d+"'>Add</a>"},removeInformationType:function(b,a,c,d){b.innerHTML="<a href='/system/remove-information-type/id/"+a.getData("system")+"/sitId/"+d+"'>Remove</a>"},handleAvailableInformationTypesTableClick:function(d,f){var e=d.target;var b=Fisma.System.availableInformationTypesTable.getRecord(e);var c=b.getData("id");var a="id="+f+"&sitId="+c;YAHOO.util.Connect.asyncRequest("POST","/system/add-information-type/format/json",{success:function(k){try{var h=YAHOO.lang.JSON.parse(k.responseText).response;if(h.success){var g=document.getElementById("addInformationTypes");if(g){g.style.display="none"}var j=Fisma.System.assignedInformationTypesTable;document.getElementById("addInformationTypes").style.display="block";j.showTableMessage("Updating list of information typesâ€¦");j.getDataSource().sendRequest("",{success:j.onDataReturnInitializeTable,scope:j});j.on("dataReturnEvent",function(){})}else{Fisma.Util.showAlertDialog("An error occurred: "+h.message)}}catch(i){Fisma.Util.showAlertDialog("An unexpected error occurred: "+i)}},failure:function(g){Fisma.Util.showAlertDialog("An unexpected error occurred.")}},a)},};