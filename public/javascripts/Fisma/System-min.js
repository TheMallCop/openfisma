Fisma.System={uploadDocumentCallback:function(a){window.location.href=window.location.href},removeSelectedUsers:function(b,a){var d=[];var c=new Object();$('input:checkbox[name="rolesAndUsers[][]"]:checked').each(function(){if($(this).val()!==""){d.push($(this).val())}});c.organizationId=a.organizationId;c.userRoles=d;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/user/remove-user-roles/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},addUser:function(b,a){var c=new Object();c.userId=$("#addUserId").val();c.roleId=$("#roles").val();c.organizationId=a.organizationId;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/system/add-user/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},addSelectedUsers:function(b,a){var d=[];var c=new Object();$('input:checkbox[name="copyUserAccessTree[][]"]:checked').each(function(){if($(this).val()!==""){d.push($(this).val())}});c.userRoles=d;c.organizationId=a.organizationId;c.csrf=$('[name="csrf"]').val();$.ajax({type:"POST",url:"/user/add-user-roles-to-organization/",data:c,dataType:"json",success:function(){$("#rolesAndUsers").load("/system/get-user-access-tree/id/"+c.organizationId+"/name/rolesAndUsers")}})},convertToOrganization:function(e,c){var g=function(){Fisma.System.showWaitPanelWhileConverting();this.hide();document.location="/system/convert-to-org/id/"+c.id};var b=function(){this.destroy()};var f=[{text:"Yes",handler:g},{text:"No",handler:b}];var d={width:"300px",fixedcenter:true,visible:false,draggable:false,close:true,modal:true,text:"Are you sure you want to convert this system to an organization?",icon:YAHOO.widget.SimpleDialog.ICON_WARN,constraintoviewport:true,buttons:f};var a=new YAHOO.widget.SimpleDialog("warningDialog",d);a.setHeader("Are you sure?");a.render(document.body);a.show()},convertToSystem:function(f,d){var c="WARNING: You are about to convert this organization to a system. After this conversion all system information (FIPS-199 and FISMA Data) will be permanently lost.\n\nDo you want to continue?";var h=function(){Fisma.System.showWaitPanelWhileConverting();this.hide();document.location="/organization/convert-to-system/id/"+d.id};var b=function(){this.destroy()};var g=[{text:"Yes",handler:h},{text:"No",handler:b}];var e={width:"300px",fixedcenter:true,visible:false,draggable:false,close:true,modal:true,text:c,icon:YAHOO.widget.SimpleDialog.ICON_WARN,constraintoviewport:true,buttons:g};var a=new YAHOO.widget.SimpleDialog("warningDialog",e);a.setHeader("Are you sure?");a.render(document.body);a.show()},showWaitPanelWhileConverting:function(){var a=new YAHOO.widget.Panel("savePanel",{width:"250px",fixedcenter:true,close:false,draggable:false,modal:true,visible:true});a.setHeader("Converting...");a.render(document.body);a.setBody('<img src="/images/loading_bar.gif">');a.show()}};